<h1><%= title; %></h1>
<%- messages() %>
<% if (errors) { %>
    <ul class="notice">
        <% errors.array().forEach(error => { %>
            <li><%= error.msg %></li>
        <% }) %>
    </ul>
<% } %>
<form action="/account/register" method="post" class="register--form">
    <label for="account_firstname">First name:</label>
    <input type="text" id="account_firstname" name="account_firstname" value="<%= locals.account_firstname %>" required>

    <label for="account_lastname">Last name:</label>
    <input type="text" id="account_lastname" name="account_lastname" value="<%= locals.account_lastname %>" required>

    <label for="account_email">Email:</label>
    <input type="email" id="account_email" name="account_email" value="<%= locals.account_email %>" required>

    <label for="account_password">Password:</label>
    <input type="password" id="account_password" name="account_password"
           pattern="^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\s).{12,}$" required>

    <div class="form__password">
        <p>Passwords must be a minimum of 12 characters and include 1 capital letter, 1 number, and 1 special
            character</p>
        <button class="form__show__password">Show Password</button>
    </div>

    <div class="form__center">
        <input type="submit" value="Register">
    </div>
</form>

<script>
	function showPassword() {
		const showBtn = document.querySelector(".form__show__password")
		const passInput = document.querySelector("#account_password")

		showBtn.addEventListener("click", () => {
			const passType = passInput.getAttribute("type")

			if (passType === "password") {
				passInput.setAttribute("type", "text")
				showBtn.textContent = "Hide Password"
			} else {
				passInput.setAttribute("type", "password")
				showBtn.textContent = "Show Password"
			}
		})
	}

	showPassword()
</script>